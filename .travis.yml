# Copying from: https://github.com/brandtbucher/travis-python-matrix

matrix:
  include:
    - name: CPython 3.8.1 on Ubuntu (Xenial Xerus)
      language: python
      os: linux
      dist: xenial
      python: 3.8.1

    - name: CPython 3.8.0 on Ubuntu (Xenial Xerus)
      language: python
      os: linux
      dist: xenial
      python: 3.8.0

    - name: CPython 3.7.6 on Ubuntu (Xenial Xerus)
      language: python
      os: linux
      dist: xenial
      python: 3.7.6

    - name: CPython 3.7.5 on Ubuntu (Xenial Xerus)
      language: python
      os: linux
      dist: xenial
      python: 3.7.5
    
    - stage: deployment
      language: python
      os: linux
      dist: xenial
      python: 3.8.1
      if: tag IS present
      deploy:
      - provider: releases
        token: $RELEASES_TOKEN
        file_glob: true
        file: dist/*
        skip_cleanup: true
        edge: true # opt in to dpl v2
      - provider: pypi
        distributions: sdist bdist_wheel
        username: "__token__"
        password: $PYPI_TOKEN
        edge: true # opt in to dpl v2
    install: 
script: 
  - python FooFinder/test.py
